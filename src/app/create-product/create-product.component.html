<section class="hero is-danger">
  <div class="hero-body">
    <div class="container">
      <h1 class="title">
        Nouveau produit
      </h1>
    </div>
  </div>
</section>
<section class="section">
  <div class="container">
  <div class="columns">
    <div class="column">
      <div class="card">
        <div class="card-content">
          <div class="content">
            <div class="columns">
              <div class="column">
                <p *ngIf="alreadyExist == true"><i class="fi-alert"></i> Ce produit existe déjà</p>
                <label class="label">
                  Nom du produit
                </label>
                <p class="control">
                  <input class="input" type="text" [(ngModel)]="name">
                </p>
              </div>
            </div>
            <div class="columns">
              <div class="column">
                <label class="label">
                  Nom de l'ingrédient
                </label>
                <p class="control">
                  <input class="input" type="text" [(ngModel)]="searchIngredient" (keyup.enter)="addIngredient()" (ngModelChange)="searchIngredients()">
                </p>
              </div>
            </div>
            <div class="columns" *ngIf="this.searchIngredient.length > 0">
              <div class="column">
                <small>Appuyez sur entrer si vous ne voyez pas l'ingrédient voulu dans la liste proposée</small>
              </div>
            </div>
            <div class="columns" *ngIf="this.ingredients.length == 0">
              <div class="column">
                <small>Vous devez ajouter au moins un ingrédient</small>
              </div>
            </div>
            <div *ngIf="dataIngredients.length > 0" class="columns">
              <div class="column">
                <p><small>Nouvel ingrédient : (cliquez pour ajouter l'ingrédient)</small>
                </p>
                <span class="add-tag tag" *ngFor="let ingredient of dataIngredients" (click)="addExistingIngredient(ingredient)">
                  {{ ingredient.name }}
                </span>
              </div>
            </div>
            <div *ngIf="ingredients.length > 0" class="columns">
              <div class="column">
                <p><small>Ingrédient ajouté : (cliquez pour supprimer l'ingrédient)</small>
                </p>
                <span class="label added-tag tag" *ngFor="let ingredient of ingredients" (click)="removeIngredient(ingredient)">
                    {{ ingredient.name }}
                  </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="columns">
    <button class="button is-primary" type="button" (click)="addProduct()" [disabled]="ingredients.length == 0">
      Validez
    </button>
  </div>
  </div>
</section>
